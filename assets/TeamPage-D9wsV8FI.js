import{r as a,j as e,Y as g,P as j,i as N,R as v,d as w,e as M}from"./Icons-C56Ecv4l.js";import{u as f,M as k}from"./main-taiHrtz4.js";import{C as y}from"./ConfirmModal-BbqZglWu.js";const C=({isOpen:d,onClose:n,member:l})=>{const{addTeamMember:b,updateTeamMember:m}=f(),[u,o]=a.useState(""),[t,i]=a.useState(""),[c,h]=a.useState(!1),r=!!l;v.useEffect(()=>{d&&(o(l?.name||""),i(""))},[d,l]);const p=x=>{x.preventDefault(),r&&l?m(l.id,u,t||void 0):b(u,t),n()},s="block w-full p-3 bg-[#1a1a1a] border-2 border-white/20 text-white rounded-xl shadow-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition";return e.jsx(k,{isOpen:d,onClose:n,title:r?"Modifier le Membre":"Ajouter un Membre",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"memberName",className:"block text-sm font-medium text-slate-300 mb-1",children:"Nom du vendeur"}),e.jsx("input",{id:"memberName",type:"text",value:u,onChange:x=>o(x.target.value),className:s,required:!0,autoFocus:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"memberPin",className:"block text-sm font-medium text-slate-300 mb-1",children:"Code PIN (4 chiffres)"}),e.jsx("input",{id:"memberPin",type:c?"text":"password",value:t,onChange:x=>i(x.target.value.replace(/\D/g,"")),className:s,required:!r,maxLength:4,minLength:r&&!t?0:4,pattern:"\\d{4}",placeholder:r?"Laisser vide pour ne pas changer":"",inputMode:"numeric"}),e.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-10 text-slate-400 hover:text-white transition-colors","aria-label":c?"Cacher le PIN":"Afficher le PIN",children:c?e.jsx(w,{className:"w-5 h-5"}):e.jsx(M,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"bg-slate-600 text-white font-bold py-2 px-4 rounded-full shadow-lg hover:bg-slate-700 transition",children:"Annuler"}),e.jsx("button",{type:"submit",className:"bg-amber-500 text-black font-bold py-2 px-4 rounded-full shadow-lg hover:bg-amber-600 transition",children:"Enregistrer"})]})]})})},S=({setPage:d})=>{const{settings:n,deleteTeamMember:l}=f(),[b,m]=a.useState(!1),[u,o]=a.useState(null),[t,i]=a.useState(null),c=a.useCallback(s=>{o(s),m(!0)},[]),h=()=>{o(null),m(!0)},r=a.useCallback(()=>{o(null),m(!1)},[]),p=a.useCallback(()=>{t&&(l(t.id),i(null))},[t,l]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-4xl font-display text-amber-400",children:"Équipe"}),e.jsx("button",{onClick:()=>d(j.More),className:"text-slate-300 hover:text-amber-400 p-2 rounded-full transition-colors","aria-label":"Retour",children:e.jsx(g,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-slate-400 text-center",children:"Gérez les membres de votre équipe qui peuvent effectuer des ventes. Chaque membre aura son propre code PIN à 4 chiffres."}),e.jsx("button",{onClick:h,className:"w-full bg-amber-500 text-black font-bold py-3 px-6 rounded-full shadow-lg hover:bg-amber-600 transition-transform font-display text-lg",children:"+ Ajouter un Membre"}),e.jsxs("div",{className:"space-y-3",children:[n.team.map(s=>e.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded-xl shadow-sm border border-white/10 flex items-center gap-4",children:[e.jsx(N,{className:"w-10 h-10 text-slate-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"font-semibold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-slate-400",children:s.role==="seller"?"Vendeur":"Membre"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c(s),className:"text-sm font-bold text-amber-400 px-3 py-1.5 rounded-full bg-black/30 hover:bg-black/50 transition-colors",children:"Modifier"}),e.jsx("button",{onClick:()=>i(s),className:"text-sm font-bold text-red-400 px-3 py-1.5 rounded-full bg-black/30 hover:bg-black/50 transition-colors",children:"Supprimer"})]})]},s.id)),n.team.length===0&&e.jsx("div",{className:"text-center text-slate-500 p-8 bg-black/20 rounded-lg",children:e.jsx("p",{children:"Aucun membre dans votre équipe pour le moment."})})]}),e.jsx(C,{isOpen:b,onClose:r,member:u}),e.jsx(y,{isOpen:!!t,onClose:()=>i(null),onConfirm:p,title:"Supprimer le Membre",message:e.jsxs(e.Fragment,{children:["Êtes-vous sûr de vouloir supprimer ",e.jsx("strong",{children:t?.name})," de votre équipe ?"]}),confirmText:"Supprimer"})]})},F=a.memo(S);export{F as default};
